import Head from 'next/head'
import { hasToken } from '../lib/auth'
import { useEffect } from 'react'
import { useRouter } from 'next/router'
import { Box, Container, CssBaseline, Toolbar, Typography } from '@mui/material'
import MainAppBar from '../lib/components/app_bar/main_app_bar'
import MainDrawer from '../lib/components/drawer/main_drawer'

export default function HomePage() {
  const router = useRouter()

  useEffect(() => {
    if (! hasToken()) {
      router.push('/login')
    }
  })

  return (
    <div>
      <Head>
        <title>Harmonica</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <Box sx={{ display: 'flex' }}>
        <CssBaseline />
        <MainAppBar />
        <MainDrawer />
        <Container component="main" sx={{ mt: 3, flexGrow: 1 }}>
          <Toolbar />
          <Typography paragraph>
            aaa
          </Typography>
        </Container>
      </Box>
    </div>
  )
}
